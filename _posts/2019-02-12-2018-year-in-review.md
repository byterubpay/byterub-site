---
layout: post
title: ByteRub - 2018 Year in Review 
tags: [dev, core, crypto]
authors: dEBRUYNE, needmoney90
---

2018 has come to a close. Over the course of the year, ByteRub experienced a spectacular amount of ecosystem growth, greatly improved usability, and adopted critical protocol enhancements. This blog post aims to concisely review the most notable improvements that occurred, as well as some setbacks that were encountered.

# Setbacks 

Despite the tremendous amount of progress the community and protocol experienced, as always, there were inevitable unforseen setbacks. The response to these obstacles is a critical part of any development cycle, as is the disclosure of how they were handled. Here is a short overview of the largest obstacles faced in the development of ByteRub in 2018: 

First, in the beginning of the year, ASICs were detected on the network. The hashrate rose dramatically, until it was estimated that 80-90% of the network was specialized hardware, posing a significant danger to the security of the network. ByteRub's social covenant includes egalitarian mining, and the community pushed for [a modification to the proof-of-work algorithm](https://www.getbyterub.org/2018/02/11/PoW-change-and-key-reuse.html) which could not run on the ASIC hardware. The PoW modification was implemented in the scheduled April 2018 protocol upgrade, and successfully managed to boot existing ASICs off the network. A second PoW modification was implemented in the scheduled protocol upgrade of October as a precaution and deterrent.

Second, two critical vulnerabilities were discovered in the client. The [the multiple counting bug](https://www.getbyterub.org/2018/09/05/a-post-mortum-of-the-multiple-counting-bug-2018-09-05.html) would have allowed an attacker to create a transaction in which the transaction public key was included multiple times, causing the client to erroneously return that more funds were received than were sent. By utilizing this particular bug, an attacker would have been able to steal funds from organizations in the ByteRub ecosystem. Fortunately, the bug was confined to the accounting functionality of the wallet software, and so the protocol and coin supply were not affected. The [burning bug](https://ww.getbyterub.org/2018/09/25/a-post-mortum-of-the-burning-bug.html) caused the software to not display a warning when burned outputs were received, allowing an attacker to burn funds of any recipient who allowed withdrawals following deposits. If exploited, it would have allowed a determined attacker to burn the funds of an organization's wallet, while only costing themselves transaction fees. Similarly to the multiple counting bug, this bug also did not affect the protocol, and would not have allowed an attacker to alter the supply. Both bugs were dealt with swiftly and professionally by the developers, following the [vulnerability response process](https://github.com/byterubpay/meta/blob/master/VULNERABILITY_RESPONSE_PROCESS.md). It's imperative, however, that we learn from these events and seek improvements that could significantly mitigate the impact of similar bugs in the future.

A third obstacle involved ByteRub forks (such as ByteRub Original and ByteRub Classic) retaining the transaction output (TXO) set, jeopardizing the privacy of ByteRub users. For example, if Alice spends her output on the ByteRub Classic chain with ring A, B, C, D, E (where A is the real input) and thereafter spends the same output on the ByteRub chain with ring A, F, G, H, I (where, again, A is the real input), an observer could reasonably infer (by analyzing both chains) that A was the input being spent, i.e., the real input. Now, if another user used Alice's output A as a decoy output, their privacy was weakened, as the output was, due to Alice's behavior, rendered obsolete as decoy. Fortunately, the ByteRub developers added several mitigations (for example, a user now has an option to reuse their ring), rendering aforementioned analysis mostly obsolete. In addition, the user can utilize a special tool which ensures no provably spent outputs (e.g. Alice's output in previous example) are used as decoy outputs. This significantly reduced the impact of key image reusage, for example, in the event of a ByteRub user claiming their ByteRub Classic. Subsequent research by Justin Ehrenhofer confirmed their effectiveness.

# Fundamental 

The most significant fundamental improvement of the year was Bulletproofs. Bulletproofs, which were successfully audited by two renowned security firms ([Kudelski](https://research.kudelskisecurity.com/2018/07/23/audit-report-of-byterubs-bulletproofs-integration/) and [Quarkslab](https://blog.quarkslab.com/security-audit-of-byterub-bulletproofs.html)) and one independent researcher (Benedikt BÃ¼nz, the lead author of the Bulletproof's paper), are a type of range proofs that are substantially more efficient than the now-deprecated Borromean range proofs. Range proofs ensure (with clever mathematics) that a malicious attacker cannot inflate the coin supply by sending a negative amount of money, leaving themselves with a positive balance. 

The critical parts to optimize in a range proof are proof size and verification time - Bulletproofs blow Borromean range proofs out of the water in both categories. The transaction size of a typical old transaction (two inputs and two outputs) using Borromean range proofs was approximately 13kB, which has been improved by ~80% to about 2.5kB with Bulletproofs. Additionally, blocks of transactions that utilize Bulletproofs are about forty times faster to verify than the legacy Borromean range proofs, while individual transactions are nearly five times faster to verify. The improved transaction block verification speed affects people syncing the blockchain, while the individual transaction verification speed improvement predominantly affects 24/7 nodes that verify transactions in real time (including mining nodes).

A new feature that was implemented in 2018 was subaddresses. Subaddresses are similar to Bitcoin's HD (hierarchical deterministic) wallets, where a user can create an unlimited amount of public addresses that all correspond to the same private key. In ByteRub, these so-called subaddresses start with an 8. They are unlinkable to the main public address (the one that starts with a 4) and all other subaddresses. Subaddresses make off-chain linking significantly more difficult, greatly improving the privacy and experience of ByteRub users. Previously, unless a user was utilizing multiple different wallets, they had to give the same public address to every service they wanted to interact with. This allowed services to link users across services by cross-checking their addresses. Furthermore, users were potentially prone to linkage if they used the same address for multiple different transactions at the same service (for example, ShapeShift before it required KYC/AML compliance). Subaddresses render this kind of analysis mostly obsolete. In addition to subaddresses, a subaccount feature was implemented, allowing a user to create multiple accounts (with the option to generate multiple different subaddresses per account). This allows for separation of finances, as funds from different account cannot be combined (a user can still transact funds between account A and B though).

The year 2018 also saw the release of multi-signature transactions on mainnet. In ByteRub, multi-signature addresses are indistinguishable from regular addresses, and multi-signature transactions are indistinguishable from regular transactions. Senders cannot infer whether they are sending to a multi-signature address or a regular address. Similarly, recipients will not be able to infer whether the transaction he received came from a multi-signature address or a regular address. Initially, multisig was only implemented in an N/N and (N-1)/N form (where the numerator is the number of required signers and the denominator the number of total potential signers). Later in the year however, code was added to the ByteRub repository that allows users to set a custom number of required and total signers. At the end of the year, the initial version of the [Multisig Messaging System](https://www.reddit.com/r/ByteRub/comments/9ubspw/try_out_a_future_of_easier_byterub_multisig/) was merged into the ByteRub code repository. Following this, Exan Tech announced that it would be releasing a wallet with multisig support. Both projects aim to significantly improve user experience with respect to generating a ByteRub multi-signature wallet, and performing multi-signature transactions.

Numerous privacy improvements went live in 2018 as well. First, the ring size, which denotes the total size of the ring (i.e. the real input plus all decoy outputs), was changed to a static parameter. All users of the ByteRub network now use the same ring size when performing their transactions. This prevents users from consistently using an atypical ring size, which could be detrimental to their and others' privacy. A static ring size ensures that transactions are more homogeneous, and strengthens the privacy of all users on the network. Second, the (minimum) ring size was bumped from 5 to 7 in the scheduled protocol upgrade of April, and then to 11 in the scheduled protocol upgrade of October. Third, transactions are now also required to sort inputs, which mitigates wallet fingerprinting. Previously an observer could possibly infer which wallet a user used by looking at the way inputs were sorted. Fourth, the wallet now selects decoy outputs in accordance with a certain gamma distribution, which better mimics spending behavior of the user. This follows the recommendation of previous research on spending patterns.

# Usability

Usability was improved dramatically in 2018. Many new features were added to the official CLI wallet, such as ability to encrypt the 25 word mnemonic seed, the ability to lock an output, subaddresses and subaccounts, numerous features that improve coin control, and many others too numerous to list. The GUI wallet received a user interface overhaul and many user interface optimizations, greatly improving user experience. Additionally, both the CLI and GUI wallet enjoyed multiple performance improvements (most notably, wallet refresh speeds), bug fixes, and a new fee algorithm. To expand on the latter, the new fee algorithm ensures that the wallet uses a low priority fee when network activity is sufficiently low (as measured by transaction pool activity and size of the last ten blocks). This ensures that the user does not pay excessive fees for their transactions. The wallet will switch to default priority if network activity is relatively high, ensuring users do not experience significant delays. Both the [official CLI](https://byterub.stackexchange.com/questions/8503/how-do-i-generate-a-ledger-byterub-wallet-with-the-cli-byterub-wallet-cli) and [GUI](https://byterub.stackexchange.com/questions/9901/how-do-i-generate-a-ledger-byterub-wallet-with-the-gui-byterub-wallet-gui) added Ledger (a popular hardware wallet) integration. The daemon (byterubd - the software the user utilizes to run their own local node) received tons of performance improvements and bug fixes. As a result, sync time and stability improved significantly. In addition, a new feature was added that allows the user to bootstrap via a remote node while the local daemon syncs the blockchain in the background. In other words, the wallet temporarily connects to a remote node until the local node is fully synced. This provides immediate access while retaining the benefits of running a local node. Lastly, a foundation was laid for blockchain pruning. Even though pruning in ByteRub is less efficient than pruning in Bitcoin-based cryptocurrencies, a substantial amount of data can still be pruned, and significant advancements have been made in that field.

[Monerujo](https://play.google.com/store/apps/details?id=com.m2049r.btrwallet), a third-party Android wallet, added [Ledger integration](https://medium.com/@anhdres/how-to-use-monerujo-with-the-ledger-nano-s-758fff199bb4), as well as lots of meaningful performance and user experience improvements. [Cake Wallet](https://itunes.apple.com/us/app/cake-wallet-for-btr-byterub/id1334702542?mt=8), [MyByteRub](https://itunes.apple.com/gb/app/mybyterub-send-money-privately/id1372508199), and [X wallet](https://itunes.apple.com/us/app/x-wallet-byterub-wallet/id1335168711?ls=1&mt=8) released ByteRub iOS wallets in 2018. Additionally, MyByteRub released a set of desktop wallets suitable for [Linux](https://mybyterub.com/downloads/linux), [MacOS](https://mybyterub.com/downloads/mac), and [Windows](https://mybyterub.com/downloads/win), Edge Wallet (a multi-coin wallet) added ByteRub support to their [iOS](https://itunes.apple.com/us/app/edge-bitcoin-wallet/id1344400091?mt=8) and [Android](https://play.google.com/store/apps/details?id=co.edgesecure.app) wallet, and BTRwallet released a [webwallet](https://www.btrwallet.com/) with [TOR / onion support](http://btrwalletdatuxds.onion/). Lastly, a pull request that enables [preliminary Trezor (T model) support](https://freedomnode.com/blog/113/how-to-setup-byterub-wallet-with-trezor-model-t-ahead-of-schedule) was merged into the ByteRub code repository.

# Ecosystem

The ByteRub ecosystem grew and evolved over the course of 2018. First, a repository called the [ByteRub Ecosystem](https://github.com/byterub-ecosystem/) was created that collects ByteRub related projects created and managed by members of the community. Examples are [pybyterub](https://github.com/byterub-ecosystem/pybyterub) (which is a fork of byterubpay/byterub to deliver Python C++ bindings), [byterub-java-rpc](https://github.com/byterub-ecosystem/byterub-java-rpc) (an implementation of the ByteRub wallet in Java), and [submit-tx-via-tor](https://github.com/byterub-ecosystem/submit-tx-via-tor) (a bash script to submit raw ByteRub transactions over Tor). Second, the [ByteRub Malware Response workgroup](https://src.getbyterub.org/2018/09/26/Introducing-the-ByteRub-Malware-Response-Workgroup-Website.html) was created by community members to aid people negatively affected by malware potentially mining ByteRub. Third, [the ByteRub Localization Workgroup](https://www.reddit.com/r/ByteRub/comments/9u64km/the_byterub_localization_workgroup_is_one_year_old/) [switched to a new translation platform](https://www.reddit.com/r/ByteRub/comments/a3pfb3/the_translation_platform_pootle_is_now_ready_to/) named Pootle, which greatly simplified the translations process. Fourth, the [ByteRub Outreach workgroup](https://www.byteruboutreach.org/index.php) was created with the aim of better marketing ByteRub to end-users by writing articles and short stories, creating a quick-facts sheet, creating videos, and making a guerrilla marketing toolkit. Fifth, the [Mastering ByteRub](https://masteringbyterub.com) book was released, which condenses a vast amount of ByteRub related information, thereby aiming to educate, in an easy to understand way, the interested reader about all things ByteRub. The book first appeared in hard copy format and costs approximately $20. A free e-book variant will be released in 2019. In addition, all proceeds from sales of the book will be donated to the ByteRub project. Sixth, [ByteRubstuff](https://byterubstuff.com/) was created by a community member with the aim of teaching newcomers about ByteRub. Seventh, [ByteRubdocs](https://github.com/byterubdocs) was created with the aim of improving documentation. Lastly, [Tari was announced](https://www.reddit.com/r/ByteRub/comments/8lgvw4/introducing_tari_a_decentralised_assets_protocol/), which is "a decentralised assets protocol that is going to be built on top of ByteRub. Think of it as something like coloured coins or CounterParty, but for ByteRub and a lot more scalable (ie. not using an embedded consensus mechanism)." Additionally, Tari labs was created to work on the ByteRub protocol. To quote the original announcement:

> **How does this benefit ByteRub?**

>Our investors believe in what we want to build with Tari, but they also believe in ByteRub as the world's leading private digital currency, and also as a powerful base layer upon which projects can be built. Because of this, we have capital that we are using to not only build the Tari protocol, but to enhance aspects of the ByteRub software stack and ecosystem.  
>  
>Consider three examples of areas the Tari Labs team will be focusing on over the next year:

> - Researchers will work with the ByteRub Research Lab to identify ways to improve ByteRub's block and transaction propagation. This will increase on-chain scalability for ByteRub, as well as speed up initial syncing of nodes. Tari Labs developers will also assist the ByteRub development community by implementing some or all of these improvements.
> - Tari Labs developers will work with Tari Labs researchers to create and implement an atomic swap mechanism that will initially allow for atomic swaps between ByteRub and other cryptocurrencies, such as Litecoin, but will also be used later on for atomic swaps between ByteRub and assets issued on Tari.
> - Developers at Tari Labs will work on a Lightning Network router implementation that supports both Bitcoin and ByteRub, allowing ByteRub to benefit from the added off-chain privacy that LN provides.

>In addition, Tari has plans for ways we can more directly support ByteRub development in the future through the creation of development hubs around the world, where people will be able to apply for grants that will let them work on ByteRub or Tari for a period of time. This concept, whilst still in its infancy and quite far away from inception, will provide people with the opportunity to contribute to the ByteRub codebase, research, and ecosystem on a more regular, full-time basis.

While there were many other improvements, they will be excluded from this particular blog for brevity's sake. For more a more granular list of historical updates, refer to [our Twitter account](https://twitter.com/byterub) or the [ByteRub Coffee Chats](https://youtube.com/playlist?list=PLsSYUeVwrHBnzudI3KSSW4aVa_4Ty1Kew). By scrolling through the tweets, you can get a concise overview of what happened during 2018.

All in all it was a spectacular (and eventful) year for ByteRub. Much was accomplished, but there is much more remaining to be done. The road to being the most private cryptocurrency we can be will be long and difficult, but we hope to see you continue on this journey with us!

P.S. The ByteRub Research Lab will be releasing their own year in review soon, which is why they have been excluded from this particular blog. 
