{% assign version = '1.1.0' | split: '.' %}
{% include disclaimer.html translated="true" version=page.version %}
# Выбираем пул

Существует множество пулов, список которых можно найти на [byterubpools.com](https://byterubpools.com). Если выбрать для майнинга большой пул, то выплаты будут происходить чаще, но небольшие майнинговые пулы способствуют поддержанию децентрализации сети.

# Выбираем CPU майнер

Как и в случае с пулами, существует множество майнеров. В данном случае выбор зависит от того аппаратного обеспечения, которое пользователь собирается использовать для майнинга. Данное руководство предусматривает использование только центрального процессора (CPU) и майнера [btr-stak-cpu](https://github.com/fireice-uk/btr-stak-cpu). Как вариант, можно использовать [wolf's CPUMiner](https://github.com/wolf9466/cpuminer-multi) и [sgminer-gm](https://github.com/genesismining/sgminer-gm). Однако они имеют немного другую конфигурацию, и поэтому не будут рассмотрены в этом руководстве.

## Для операционной системы Windows

Для операционной системы Windows разработчик btr-stak-cpu предоставляет двоичные файлы, которые можно скачать на странице [GitHub](https://github.com/fireice-uk/btr-stak-cpu/releases).

Следует загрузить файл `btr-stak-cpu-win64.zip` и распаковать его в папку, в которой вы сможете снова без труда найти его.

## Для других операционных систем

В том случае, если используется операционная система, отличная от Windows, придётся скомпилировать btr-stak-cpu самостоятельно. К счастью, всё не настолько сложно, насколько звучит. Перед тем как приступить непосредственно к компиляции майнера, понадобится установить некоторые файлы:

Для дистрибутивов на основе Debian:

    sudo apt-get install libmicrohttpd-dev libssl-dev cmake build-essential

Для дистрибутивов на основе Red Hat:

	sudo yum install openssl-devel cmake gcc-c++ libmicrohttpd-devel

<!-- TODO: Add dependencies for other operating systems? -->

После этого cmake используется исключительно для генерирования файлов сборки, проверки и копирования файла конфигурации:

    mkdir build-$(gcc -dumpmachine)
	cd $_
	cmake ../
	make -j$(nproc)
	cp ../config.txt bin/
	cd bin

Но пока рано радоваться, ведь майнер ещё нужно конфигурировать. Сейчас при запуске майнера должен появиться текстовый блок, который необходимо скопировать и вставить:

![image1](png/mine_to_pool/1.png)

Теперь следует открыть файл `config.txt` и *заменить* две строки `"cpu_threads_conf"` только что скопированным текстом. После этого всё должно выглядеть примерно так:

![image2](png/mine_to_pool/2.png)

После этого необходимо прокрутить содержимое файла до строк, содержащих `"pool_address"`.
*Заменить* содержание вторых кавычек на адрес и порт пула, выбранного ранее. Эта информация обычно размещается на веб-сайте пула.

В кавычках для указания адреса кошелька следует указать адрес вашего кошелька. Пароль можно не вводить, если пул не потребует сделать иначе.

После этого конфигурация должна выглядеть примерно так:

![image3](png/mine_to_pool/3.png)

# Запуск майнера

**Сохранить файл конфигурации** и запустить майнер!

![image4](png/mine_to_pool/4.png)

Некоторые пулы позволяют отслеживать ваш хешрейт, для этого ваш адрес копируется на их веб-сайт. Также хешрейт можно просмотреть, нажав клавишу `h`.

# Настройка майнера

Возможно, вы увидите неприятное сообщение, подобное этому:

	[2017-07-09 12:04:02] : MEMORY ALLOC FAILED: mmap failed

Это означает, что вы можете повысить хешрейт примерно на 20%, если станете использовать большие страницы памяти (Large Pages).

## Настройка больших страниц в Linux

Сначала необходимо остановить работу майнера (если он запущен), а затем ввести следующие команды, которые включат большие страницы, а затем следует запустить майнер в качестве корневой программы:

	sudo sysctl -w vm.nr_hugepages=128
	sudo ./btr-stak-cpu

## Настройка больших страниц в Windows

Взято из файла `config.txt`:

>Мы попытаемся по умолчанию включить большие страницы. Это означает, что вам понадобится запустить Windows с правами администратора (Run As Administrator). Для того чтобы включить блокировку больших страниц в памяти, понадобится отредактировать групповую политику в системе. MSDN предлагает сделать следующее:
1. В меню Start (Пуск) выбрать команду Run (Выполнить). В окне Open (Открыть) ввести gpedit.msc.
2. В консоли Local Group Policy Editor (Редактор локальных групповых политик) развернуть узел Computer Configuration (Конфигурация компьютера), а затем узел Windows Settings (Настройки Windows).
3. Развернуть узлы Security Settings (Настройки безопасности) и Local Policies (Локальные политики).
4. Выбрать папку User Rights Assignment (Назначение прав пользователя).
5. Политики будут показаны на панели подробностей.
6. На этой панели дважды щелкнуть параметр Lock pages in memory (Блокировка страниц в памяти).
7. В диалоговом окне Local Security Setting — Lock pages in memory (Параметры локальной безопасности — блокировка страниц в памяти) щелкнуть Add User or Group (Добавить пользователя или группу).
8. В диалоговом окне Select Users, Service Accounts, or Groups (Выбор пользователей, учетных записей служб или групп) выбрать учетную запись, которая будет использоваться с майнером.
9. Чтобы этот параметр вступил в силу, необходимо перезагрузить компьютер.
